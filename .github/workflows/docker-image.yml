name: Docker Image CI

on:
  push:
    tags:        
      - '*'

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
    - name: Checkout the code       
      uses: actions/checkout@v1   
      
    - name: Set up Docker Buildx      
      uses: crazy-max/ghaction-docker-buildx@v1      
      with:        
        version: latest  
            
    - name: Run Buildx    
      if: success()      
      run: |        
        docker buildx build \        
        --platform linux/amd64,linux/arm64 \             
        --file ./Dockerfile \        
        --output type=image .
